package config

import (
	"fmt"
	"net/url"
)

type Cfg struct {
	Secure bool   `json:"secure"`
	Host   string `json:"host"`
	Port   int    `json:"port"`
	Path   string `json:"path"`
	UUID   string `json:"uuid"`
	Key    string `json:"key"`
	Remark string `json:"remark"`
}

// Localhost for my development only.
// Shall be commented out when development is done.
//var ConfigBuffer = "\x00\xcf\x6a\x4f\x41\xae\x20\x83\x0f\xb7\xcc\x93\x78\x04\xfd\x9e\x95\xcf\x37\x1b\x5b\xbb\x39\x0b\xca\x6a\x65\x80\x8b\x28\xc4\xa4\xdd\x69\xda\x8c\x95\x82\x8f\xbe\x24\x55\x5b\x47\x4b\x78\x24\xc4\x9f\xf3\x70\x2b\x9f\x08\xbe\xec\x12\x21\x4c\x24\xbe\x82\x84\x4e\xb3\x54\x8a\x32\x45\x1c\x78\x4a\xa5\x37\x36\x9d\xe4\x96\xac\x7b\xe4\x61\xea\x43\xe4\xd4\xff\xed\xe6\x56\xb9\x5a\x8c\x57\x28\xd6\x5c\xc3\x49\x5a\x7f\x67\xc4\x38\xdc\x6e\xff\xfc\xd5\xfb\x04\xfc\x2b\xc9\xef\x62\x1d\x3e\x82\x6b\x39\xda\x49\x4d\x50\x2a\x7c\xf8\xe1\x80\x7f\x0c\x7f\xdf\xbc\x6d\x66\xd4\x46\x20\xc5\xd6\x27\xf6\xd5\x3b\x84\x1d\x93\x74\xf6\xe1\x52\x35\x39\x97\x71\x47\x7b\xf3\x35\x98\x0c\x87\x45\xbb\x83\x68\xe1\x1d\x86\x28\x52\x47\xff\xe6\xc3\xc9\x19\x12\x31\x9e\x10\x09\x21\xc4\xf4\x77\x4a\x8f\x29\xa7\x4a\x5e\x67\x39\x3e\x28\x93\x89\x3f\x1a\x7d\x1a\xf7\xa5\x84\x1f\x6d\xb3\x9d\x9a\x85\x53\x47\x3e\x84\x50\x30\x24\x85\x63\xa2\x0e\xd5\x69\x8e\xe8\xca\x5a\x8f\x20\x22\x78\x3f\xdd\x3a\x8e\x22\x70\xc1\x7e\xb7\x3f\x7b\x60\x94\x07\x6d\x86\xe3\x63\x09\x97\xa3\xcb\xba\x0e\xde\x03\x68\xf7\xa6\xbd\x11\x04\x43\x8d\xa7\x52\x1e\x92\x4d\x54\xb7\xd1\x2c\x3a\x37\x81\x01\x18\x5c\xcd\x95\x6e\x3a\xb8\xcc\x97\xb9\x53\x9a\x0b\x92\x8d\x57\x11\xea\x19\x6a\x5b\x26\xc9\x98\x10\xb5\xe3\x33\x29\x0a\xc9\x89\x77\x86\xea\xc1\x02\x21\xfb\xf7\x03\xf5\xe5\x95\x7a\x47\xa0\x4f\xc3\xcb\x33\x97\x58\x9c\xc2\x5f\xaf\x0d\xae\x5b\x36\xe0\xa1\x6d\x98\x9d\xfe\x57\xf2\x99\xa4\x57\x1c\xa0\x18\x7d\x46\x64\x40\xbc\x96\x26\x0f\x33\xeb\x4d\x21\x31\xdd\x47\xab\x86\x34\xed\xf3\x30\x0c\x33\x78\x45\x84\xf9\x8b"

// None
var ConfigBuffer = "\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19\x19"

// COMMIT means this commit hash, help to identify version and self upgrade.
var COMMIT = ``
var Config Cfg

func GetBaseURL(ws bool) string {
	baseUrl := url.URL{
		Host: fmt.Sprintf(`%v:%d`, Config.Host, Config.Port),
		Path: Config.Path,
	}
	if ws {
		if Config.Secure {
			baseUrl.Scheme = `wss`
		} else {
			baseUrl.Scheme = `ws`
		}
	} else {
		if Config.Secure {
			baseUrl.Scheme = `https`
		} else {
			baseUrl.Scheme = `http`
		}
	}
	return baseUrl.String()
}
